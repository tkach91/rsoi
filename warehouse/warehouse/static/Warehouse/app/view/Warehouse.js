/*
 * File: app/view/MyPanel.js
 *
 * This file was generated by Sencha Architect version 2.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.1.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.1.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Warehouse.view.Warehouse', {
	extend: 'Ext.panel.Panel',

	height: 500,
	width: 500,
	layout: {
		type: 'border'
	},
	title: 'Storage',

	initComponent: function() {
		var me = this;

		Ext.applyIf(me, {
			items: [
				{
					xtype: 'gridpanel',
					region: 'center',
					store: 'JCatalogueOperator',
					listeners:{
						viewready: function(grid) {
							var store = grid.getStore();
							store.load();
						}
					},
					viewConfig: {

					},
					plugins: [Ext.create('Ext.grid.plugin.CellEditing', {
						clicksToEdit: 1,
					})],
					columns: [
						{
							xtype: 'gridcolumn',
							hidden: true,
							dataIndex: 'id',
							text: 'Id'
						},
						{
							xtype: 'gridcolumn',
							dataIndex: 'name',
							text: 'Name',
							editor: {
								xtype: 'textfield'
							},
							renderer: function(value) {
								if ((value == 0) || (value == '') || (value == undefined) || (value == null))
									return '<span style="color:gray;">Name</span>';
								return value;
							}
						},
						{
							xtype: 'gridcolumn',
							dataIndex: 'idCatalogue',
							text: 'idCatalogue',
							editor: {
								xtype: 'textfield'
							},
							renderer: function(value) {
								if ((value == 0) || (value == '') || (value == undefined) || (value == null))
									return '<span style="color:gray;">idCatalogue</span>';
								return value;
							}
						},
						{
							xtype: 'gridcolumn',
							dataIndex: 'description',
							text: 'Description',
							editor: {
								xtype: 'textfield'
							},
							renderer: function(value) {
								if ((value == 0) || (value == '') || (value == undefined) || (value == null))
									return '<span style="color:gray;">Description</span>';
								return value;
							}
						},
						{
							xtype: 'gridcolumn',
							dataIndex: 'price',
							text: 'Price',
							editor: {
								xtype: 'numberfield'
							},
							renderer: function(value) {
								if ((value == 0) || (value == '') || (value == undefined) || (value == null))
									return '<span style="color:gray;">Price</span>';
								return value;
							}
						},
						{
							xtype: 'gridcolumn',
							dataIndex: 'count',
							text: 'Count',
							editor: {
								xtype: 'numberfield'
							},
							renderer: function(value) {
								if ((value == 0) || (value == '') || (value == undefined) || (value == null))
									return '<span style="color:gray;">Count</span>';
								return value;
							}
						},
						{
							xtype: 'actioncolumn',
							width:50,
							items: [{
								icon: '/static/resources/fam/delete.gif',
								tooltip: 'Delete',
								handler: function(grid, rowIndex, colIndex, item, e, record) {
									if (record.get('count') > 0) {
										Ext.MessageBox.confirm('Alerta', 'Deseas eliminar este registro?', function(btn) {
											if (btn == 'yes') {
												var store = grid.getStore();
												store.remove(record);
											}
										});
									}
								}
							}]
						}
					]
				}
			]
		});

		me.callParent(arguments);
	}

});
